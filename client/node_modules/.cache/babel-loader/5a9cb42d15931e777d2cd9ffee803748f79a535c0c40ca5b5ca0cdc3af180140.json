{"ast":null,"code":"import axios from \"axios\";\nimport { DELETE_GAME, ERROR_VIDEOGAME, FILTER, GET_GAMES, GET_GENRES, PAGINATE } from \"./action-types\";\n\n// export const GET_GAMES = \"GET_GAMES\"\n// export const GET_BY_NAME = \"GET_BY_NAME\"\n\n// export function getGames(){\n//     return async function(dispatch) {\n//      const response = await axios(\"http://localhost:3001/videogames\");\n\n//     return dispatch({\n//         type:\"GET_GAMES\",\n//         payload: response.data\n//     })\n// }\n// }\n\n// export const getGames = ()=>{\n//     return async function (dispatch){\n//         const apiData = await axios.get(\"http://localhost:3001/videogames\");\n//         const videoGames = apiData.data;\n//         dispatch({type:GET_GAMES,payload:videoGames})\n//     };\n// }\n\n// export function getByName(name){\n//     return async function (dispatch){\n//         const response = await axios(`http://localhost:3001/videogames/?name=${name}`);\n//         return dispatch({\n//             type: \"GET_BY_NAME\",\n//             payload: response.data,\n//         })\n//     };\n// }\n\nexport function getGames() {\n  return async function (dispatch) {\n    try {\n      const response = await axios.get(\"http://localhost:3001/videogames\");\n      console.log(response);\n      dispatch({\n        type: GET_GAMES,\n        payload: response.data\n      });\n    } catch (error) {\n      alert(error.response.data.error);\n    }\n  };\n}\nexport function getGenres() {\n  return async function (dispatch) {\n    try {\n      const response = await axios.get(\"http://localhost:3001/genres\");\n      console.log(response);\n      dispatch({\n        type: GET_GENRES,\n        payload: response.data\n      });\n    } catch (error) {\n      alert(error.response.data.error);\n    }\n  };\n}\nexport function postGame(state) {\n  return async function () {\n    try {\n      console.log(state);\n      await axios.post(\"http://localhost:3001/videogames\", state);\n      alert(\"Game creado con exito\");\n    } catch (error) {\n      alert(\"sucedio un error\");\n    }\n  };\n}\nexport function paginateGames(order) {\n  //order es el indentificador que indica para donde estoy paginando. derecha o izquierda\n  return async function (dispatch) {\n    try {\n      dispatch({\n        type: PAGINATE,\n        payload: order\n      });\n    } catch (error) {\n      alert(error.response.data.error);\n    }\n  };\n}\nexport function filterGenresAction(genre) {\n  //order es el indentificador que indica para donde estoy paginando. derecha o izquierda\n  return async function (dispatch) {\n    console.log(genre);\n    try {\n      dispatch({\n        type: FILTER,\n        payload: genre\n      });\n    } catch (error) {\n      alert(error.response.data.error);\n    }\n  };\n}\nexport const deleteVideogame = id => {\n  return async dispatch => {\n    try {\n      const endpoint = `http://localhost:3001/videogames/${id}`;\n      const {\n        data\n      } = await axios.delete(endpoint);\n      return dispatch({\n        type: DELETE_GAME,\n        payload: data\n      });\n    } catch (err) {\n      return dispatch({\n        type: ERROR_VIDEOGAME,\n        payload: await err.response.data\n      });\n    }\n  };\n};","map":{"version":3,"names":["axios","DELETE_GAME","ERROR_VIDEOGAME","FILTER","GET_GAMES","GET_GENRES","PAGINATE","getGames","dispatch","response","get","console","log","type","payload","data","error","alert","getGenres","postGame","state","post","paginateGames","order","filterGenresAction","genre","deleteVideogame","id","endpoint","delete","err"],"sources":["/Users/macuser/Desktop/HENRY/Copia de PI-VIDEOGAMES/client/src/redux/actions/action.js"],"sourcesContent":["import axios from \"axios\"; \nimport {DELETE_GAME, ERROR_VIDEOGAME, FILTER, GET_GAMES,\n        GET_GENRES,\n        PAGINATE } \n        from \"./action-types\";\n\n// export const GET_GAMES = \"GET_GAMES\"\n// export const GET_BY_NAME = \"GET_BY_NAME\"\n\n// export function getGames(){\n//     return async function(dispatch) {\n//      const response = await axios(\"http://localhost:3001/videogames\");\n\n//     return dispatch({\n//         type:\"GET_GAMES\",\n//         payload: response.data\n//     })\n// }\n// }\n\n// export const getGames = ()=>{\n//     return async function (dispatch){\n//         const apiData = await axios.get(\"http://localhost:3001/videogames\");\n//         const videoGames = apiData.data;\n//         dispatch({type:GET_GAMES,payload:videoGames})\n//     };\n// }\n\n// export function getByName(name){\n//     return async function (dispatch){\n//         const response = await axios(`http://localhost:3001/videogames/?name=${name}`);\n//         return dispatch({\n//             type: \"GET_BY_NAME\",\n//             payload: response.data,\n//         })\n//     };\n// }\n\nexport function getGames(){\n    return async function(dispatch){\n        try {\n            const response = await axios.get(\"http://localhost:3001/videogames\")\n            console.log(response)  \n            dispatch({\n                type: GET_GAMES,\n                payload: response.data\n            })\n        } catch (error) {\n            alert(error.response.data.error)\n            \n        }\n    \n    }\n}\nexport function getGenres(){\n    return async function(dispatch){\n        try {\n            const response = await axios.get(\"http://localhost:3001/genres\")\n            console.log(response)  \n            dispatch({\n                type: GET_GENRES,\n                payload: response.data\n            })\n        } catch (error) {\n            alert(error.response.data.error)\n            \n        }\n    \n    }\n}\n\nexport function postGame(state){\n    return async function(){\n        try {\n            console.log(state)\n            await axios.post(\"http://localhost:3001/videogames\", state)\n            alert(\"Game creado con exito\");\n        } catch (error) {\n            alert(\"sucedio un error\");\n            \n        }\n    }\n}\n\nexport function paginateGames(order){  //order es el indentificador que indica para donde estoy paginando. derecha o izquierda\n    return async function(dispatch){\n        try {\n            dispatch({\n                type: PAGINATE,\n                payload: order\n            })\n        } catch (error) {\n            alert(error.response.data.error)\n            \n        }\n    \n    }\n}\n\n\nexport function filterGenresAction(genre){  //order es el indentificador que indica para donde estoy paginando. derecha o izquierda\n    return async function(dispatch){\n        console.log(genre)\n        try {\n            dispatch({\n                type: FILTER,\n                payload: genre\n            })\n        } catch (error) {\n            alert(error.response.data.error)\n            \n        }\n    \n    }\n}\nexport const deleteVideogame = (id) => {\n    return async (dispatch) => {\n      try {\n        const endpoint = `http://localhost:3001/videogames/${id}`;\n        const {data} = await axios.delete(endpoint);\n        return dispatch({\n          type: DELETE_GAME,\n          payload: data\n        });\n      } catch (err) {\n       return dispatch({\n          type: ERROR_VIDEOGAME,\n          payload: await err.response.data\n       })\n      }\n    };\n };\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}