{"ast":null,"code":"import axios from \"axios\";\nimport { DELETE_GAME, GET_BY_ID, ERROR_VIDEOGAME, FILTER, GET_GAMES, GET_GENRES, NAME_SEARCHED, CLEAN, CLEAN_OBJECT, EDIT_GAME, MOUNT, UNMOUNT, PAGINATE, GET_BY_NAME } from \"./action-types\";\n\n// export const GET_GAMES = \"GET_GAMES\" \n// export const GET_BY_NAME = \"GET_BY_NAME\"\n\n// export function getGames(){\n//     return async function(dispatch) {\n//      const response = await axios(\"http://localhost:3001/videogames\");\n\n//     return dispatch({\n//         type:\"GET_GAMES\",\n//         payload: response.data\n//     })\n// }\n// }\n\n// export const getGames = ()=>{\n//     return async function (dispatch){\n//         const apiData = await axios.get(\"http://localhost:3001/videogames\");\n//         const videoGames = apiData.data;\n//         dispatch({type:GET_GAMES,payload:videoGames})\n//     };\n// }\n\n// export function getByName(name){\n//     return async function (dispatch){\n//         const response = await axios(`http://localhost:3001/videogames/?name=${name}`);\n//         return dispatch({\n//             type: \"GET_BY_NAME\",\n//             payload: response.data,\n//         })\n//     };\n// }\n\nexport function getGames() {\n  return async function (dispatch) {\n    try {\n      const response = await axios.get(\"http://localhost:3001/videogames\");\n      console.log(response);\n      dispatch({\n        type: GET_GAMES,\n        payload: response.data\n      });\n    } catch (error) {\n      alert(error.response.data.error);\n    }\n  };\n}\nexport function getGenres() {\n  return async function (dispatch) {\n    try {\n      const response = await axios.get(\"http://localhost:3001/genres\");\n      console.log(response);\n      dispatch({\n        type: GET_GENRES,\n        payload: response.data\n      });\n    } catch (error) {\n      alert(error.response.data.error);\n    }\n  };\n}\nexport const getByName = name => {\n  return async dispatch => {\n    try {\n      const endpoint = `http://localhost:3002/videogames?name=${name}`;\n      const response = await axios.get(endpoint);\n      return dispatch({\n        type: GET_BY_NAME,\n        payload: response.data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\nexport const getById = id => {\n  return async dispatch => {\n    try {\n      const endpoint = `http://localhost:3001/videogames/${id}`;\n      const response = await axios.get(endpoint);\n      if (!id) return dispatch({\n        type: GET_BY_ID,\n        payload: {}\n      });\n      return dispatch({\n        type: GET_BY_ID,\n        payload: response.data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\nexport function postGame(state) {\n  return async function () {\n    try {\n      console.log(state);\n      await axios.post(\"http://localhost:3001/videogames\", state);\n      alert(\"Game creado con exito\");\n    } catch (error) {\n      alert(\"sucedio un error\");\n    }\n  };\n}\nexport function paginateGames(order) {\n  //order es el indentificador que indica para donde estoy paginando. derecha o izquierda\n  return async function (dispatch) {\n    try {\n      dispatch({\n        type: PAGINATE,\n        payload: order\n      });\n    } catch (error) {\n      alert(error.response.data.error);\n    }\n  };\n}\nexport function filterGenresAction(genre) {\n  //order es el indentificador que indica para donde estoy paginando. derecha o izquierda\n  return async function (dispatch) {\n    console.log(genre);\n    try {\n      dispatch({\n        type: FILTER,\n        payload: genre\n      });\n    } catch (error) {\n      alert(error.response.data.error);\n    }\n  };\n}\nexport const deleteVideogame = id => {\n  return async dispatch => {\n    try {\n      const endpoint = `http://localhost:3001/videogames/${id}`;\n      const {\n        data\n      } = await axios.delete(endpoint);\n      return dispatch({\n        type: DELETE_GAME,\n        payload: data\n      });\n    } catch (err) {\n      return dispatch({\n        type: ERROR_VIDEOGAME,\n        payload: await err.response.data\n      });\n    }\n  };\n};\nexport const nameSearched = name => {\n  return {\n    type: NAME_SEARCHED,\n    payload: name\n  };\n};\nexport const clean = () => {\n  return {\n    type: CLEAN,\n    payload: ''\n  };\n};\nexport const cleanObject = () => {\n  return {\n    type: CLEAN_OBJECT,\n    payload: {}\n  };\n};\nexport const putVideogame = update => {\n  return async dispatch => {\n    try {\n      const endpoint = `http://localhost:3002/videogames`;\n      const {\n        data\n      } = await axios.put(endpoint, update);\n      return dispatch({\n        type: EDIT_GAME,\n        payload: data\n      });\n    } catch (err) {\n      return dispatch({\n        type: ERROR_VIDEOGAME,\n        payload: await err.response.data\n      });\n    }\n  };\n};\nexport const mountComp = () => {\n  return {\n    type: MOUNT,\n    payload: true\n  };\n};\nexport const unmountComp = () => {\n  return {\n    type: UNMOUNT,\n    payload: false\n  };\n};","map":{"version":3,"names":["axios","DELETE_GAME","GET_BY_ID","ERROR_VIDEOGAME","FILTER","GET_GAMES","GET_GENRES","NAME_SEARCHED","CLEAN","CLEAN_OBJECT","EDIT_GAME","MOUNT","UNMOUNT","PAGINATE","GET_BY_NAME","getGames","dispatch","response","get","console","log","type","payload","data","error","alert","getGenres","getByName","name","endpoint","getById","id","postGame","state","post","paginateGames","order","filterGenresAction","genre","deleteVideogame","delete","err","nameSearched","clean","cleanObject","putVideogame","update","put","mountComp","unmountComp"],"sources":["/Users/macuser/Desktop/HENRY/Copia de PI-VIDEOGAMES/client/src/redux/actions/action.js"],"sourcesContent":["import axios from \"axios\"; \nimport {DELETE_GAME, GET_BY_ID, ERROR_VIDEOGAME, FILTER, GET_GAMES,\n        GET_GENRES, NAME_SEARCHED, CLEAN, CLEAN_OBJECT, EDIT_GAME, MOUNT, UNMOUNT,\n        PAGINATE, GET_BY_NAME } \n        from \"./action-types\";\n\n// export const GET_GAMES = \"GET_GAMES\" \n// export const GET_BY_NAME = \"GET_BY_NAME\"\n\n// export function getGames(){\n//     return async function(dispatch) {\n//      const response = await axios(\"http://localhost:3001/videogames\");\n\n//     return dispatch({\n//         type:\"GET_GAMES\",\n//         payload: response.data\n//     })\n// }\n// }\n\n// export const getGames = ()=>{\n//     return async function (dispatch){\n//         const apiData = await axios.get(\"http://localhost:3001/videogames\");\n//         const videoGames = apiData.data;\n//         dispatch({type:GET_GAMES,payload:videoGames})\n//     };\n// }\n\n// export function getByName(name){\n//     return async function (dispatch){\n//         const response = await axios(`http://localhost:3001/videogames/?name=${name}`);\n//         return dispatch({\n//             type: \"GET_BY_NAME\",\n//             payload: response.data,\n//         })\n//     };\n// }\n\nexport function getGames(){\n    return async function(dispatch){\n        try {\n            const response = await axios.get(\"http://localhost:3001/videogames\")\n            console.log(response)  \n            dispatch({\n                type: GET_GAMES,\n                payload: response.data\n            })\n        } catch (error) {\n            alert(error.response.data.error)\n            \n        }\n    \n    }\n}\nexport function getGenres(){\n    return async function(dispatch){\n        try {\n            const response = await axios.get(\"http://localhost:3001/genres\")\n            console.log(response)  \n            dispatch({\n                type: GET_GENRES,\n                payload: response.data\n            })\n        } catch (error) {\n            alert(error.response.data.error)\n            \n        }\n    \n    }\n}\n\nexport const getByName = (name) => {\n    return async (dispatch) => {\n       try {\n          const endpoint = `http://localhost:3002/videogames?name=${name}`;\n          const response = await axios.get(endpoint)\n             return dispatch({\n                type: GET_BY_NAME,\n                payload: response.data,\n             });\n       } catch (error) {\n          console.log(error);\n       }\n    }\n }\n\nexport const getById = (id) => {\n    return async (dispatch) => {\n       try {\n          const endpoint = `http://localhost:3001/videogames/${id}`;\n          const response = await axios.get(endpoint)\n          \n          if(!id) return dispatch({type: GET_BY_ID, payload:{}})\n             return dispatch({\n                type: GET_BY_ID,\n                payload: response.data,\n             });\n       } catch (error) {\n          console.log(error);\n       }\n    }\n }\n\nexport function postGame(state){\n    return async function(){\n        try {\n            console.log(state)\n            await axios.post(\"http://localhost:3001/videogames\", state)\n            alert(\"Game creado con exito\");\n        } catch (error) {\n            alert(\"sucedio un error\");\n            \n        }\n    }\n}\n\nexport function paginateGames(order){  //order es el indentificador que indica para donde estoy paginando. derecha o izquierda\n    return async function(dispatch){\n        try {\n            dispatch({\n                type: PAGINATE,\n                payload: order\n            })\n        } catch (error) {\n            alert(error.response.data.error)\n            \n        }\n    \n    }\n}\n\n\nexport function filterGenresAction(genre){  //order es el indentificador que indica para donde estoy paginando. derecha o izquierda\n    return async function(dispatch){\n        console.log(genre)\n        try {\n            dispatch({\n                type: FILTER,\n                payload: genre\n            })\n        } catch (error) {\n            alert(error.response.data.error)\n            \n        }\n    \n    }\n}\nexport const deleteVideogame = (id) => {\n    return async (dispatch) => {\n      try {\n        const endpoint = `http://localhost:3001/videogames/${id}`;\n        const {data} = await axios.delete(endpoint);\n        return dispatch({\n          type: DELETE_GAME,\n          payload: data\n        });\n      } catch (err) {\n       return dispatch({\n          type: ERROR_VIDEOGAME,\n          payload: await err.response.data\n       })\n      }\n    };\n };\n\n export const nameSearched = (name) => {\n    return {\n       type: NAME_SEARCHED,\n       payload: name\n    }\n }\n export const clean = () => {\n    return {\n       type: CLEAN,\n       payload: ''\n    }\n }\n \n export const cleanObject = () => {\n    return {\n       type: CLEAN_OBJECT,\n       payload: {}\n    }\n }\n \n export const putVideogame = (update) => {\n    return async (dispatch) => {\n      try {\n        const endpoint = `http://localhost:3002/videogames`;\n        const {data} = await axios.put(endpoint, update);\n        return dispatch({\n          type: EDIT_GAME,\n          payload: data\n        });\n      } catch (err) {\n       return dispatch({\n          type: ERROR_VIDEOGAME,\n          payload: await err.response.data\n       })\n      }\n    };\n };\n \n export const mountComp = () => {\n    return {\n       type: MOUNT,\n       payload: true\n    }\n }\n \n export const unmountComp = () => {\n    return {\n       type: UNMOUNT,\n       payload: false\n    }\n }\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}