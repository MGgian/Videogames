{"ast":null,"code":"import axios from \"axios\";\nimport { DELETE_GAME, GET_BY_ID, ERROR_VIDEOGAME, FILTER, GET_GAMES, GET_GENRES, NAME_SEARCHED, CLEAN, CLEAN_OBJECT, EDIT_GAME, MOUNT, UNMOUNT, PAGINATE } from \"./action-types\";\n\n// export const GET_GAMES = \"GET_GAMES\" \n// export const GET_BY_NAME = \"GET_BY_NAME\"\n\n// export function getGames(){\n//     return async function(dispatch) {\n//      const response = await axios(\"http://localhost:3001/videogames\");\n\n//     return dispatch({\n//         type:\"GET_GAMES\",\n//         payload: response.data\n//     })\n// }\n// }\n\n// export const getGames = ()=>{\n//     return async function (dispatch){\n//         const apiData = await axios.get(\"http://localhost:3001/videogames\");\n//         const videoGames = apiData.data;\n//         dispatch({type:GET_GAMES,payload:videoGames})\n//     };\n// }\n\n// export function getByName(name){\n//     return async function (dispatch){\n//         const response = await axios(`http://localhost:3001/videogames/?name=${name}`);\n//         return dispatch({\n//             type: \"GET_BY_NAME\",\n//             payload: response.data,\n//         })\n//     };\n// }\n\nexport function getGames() {\n  return async function (dispatch) {\n    try {\n      const response = await axios.get(\"http://localhost:3001/videogames\");\n      console.log(response);\n      dispatch({\n        type: GET_GAMES,\n        payload: response.data\n      });\n    } catch (error) {\n      alert(error.response.data.error);\n    }\n  };\n}\nexport function getGenres() {\n  return async function (dispatch) {\n    try {\n      const response = await axios.get(\"http://localhost:3001/genres\");\n      console.log(response);\n      dispatch({\n        type: GET_GENRES,\n        payload: response.data\n      });\n    } catch (error) {\n      alert(error.response.data.error);\n    }\n  };\n}\nexport const getById = id => {\n  return async dispatch => {\n    try {\n      const endpoint = `http://localhost:3002/videogames/${id}`;\n      const response = await axios.get(endpoint);\n      if (!id) return dispatch({\n        type: GET_BY_ID,\n        payload: {}\n      });\n      return dispatch({\n        type: GET_BY_ID,\n        payload: response.data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\nexport function postGame(state) {\n  return async function () {\n    try {\n      console.log(state);\n      await axios.post(\"http://localhost:3001/videogames\", state);\n      alert(\"Game creado con exito\");\n    } catch (error) {\n      alert(\"sucedio un error\");\n    }\n  };\n}\nexport function paginateGames(order) {\n  //order es el indentificador que indica para donde estoy paginando. derecha o izquierda\n  return async function (dispatch) {\n    try {\n      dispatch({\n        type: PAGINATE,\n        payload: order\n      });\n    } catch (error) {\n      alert(error.response.data.error);\n    }\n  };\n}\nexport function filterGenresAction(genre) {\n  //order es el indentificador que indica para donde estoy paginando. derecha o izquierda\n  return async function (dispatch) {\n    console.log(genre);\n    try {\n      dispatch({\n        type: FILTER,\n        payload: genre\n      });\n    } catch (error) {\n      alert(error.response.data.error);\n    }\n  };\n}\nexport const deleteVideogame = id => {\n  return async dispatch => {\n    try {\n      const endpoint = `http://localhost:3001/videogames/${id}`;\n      const {\n        data\n      } = await axios.delete(endpoint);\n      return dispatch({\n        type: DELETE_GAME,\n        payload: data\n      });\n    } catch (err) {\n      return dispatch({\n        type: ERROR_VIDEOGAME,\n        payload: await err.response.data\n      });\n    }\n  };\n};\nexport const nameSearched = name => {\n  return {\n    type: NAME_SEARCHED,\n    payload: name\n  };\n};\nexport const clean = () => {\n  return {\n    type: CLEAN,\n    payload: ''\n  };\n};\nexport const cleanObject = () => {\n  return {\n    type: CLEAN_OBJECT,\n    payload: {}\n  };\n};\nexport const putVideogame = update => {\n  return async dispatch => {\n    try {\n      const endpoint = `http://localhost:3002/videogames`;\n      const {\n        data\n      } = await axios.put(endpoint, update);\n      return dispatch({\n        type: EDIT_GAME,\n        payload: data\n      });\n    } catch (err) {\n      return dispatch({\n        type: ERROR_VIDEOGAME,\n        payload: await err.response.data\n      });\n    }\n  };\n};\nexport const mountComp = () => {\n  return {\n    type: MOUNT,\n    payload: true\n  };\n};\nexport const unmountComp = () => {\n  return {\n    type: UNMOUNT,\n    payload: false\n  };\n};","map":{"version":3,"names":["axios","DELETE_GAME","GET_BY_ID","ERROR_VIDEOGAME","FILTER","GET_GAMES","GET_GENRES","NAME_SEARCHED","CLEAN","CLEAN_OBJECT","EDIT_GAME","MOUNT","UNMOUNT","PAGINATE","getGames","dispatch","response","get","console","log","type","payload","data","error","alert","getGenres","getById","id","endpoint","postGame","state","post","paginateGames","order","filterGenresAction","genre","deleteVideogame","delete","err","nameSearched","name","clean","cleanObject","putVideogame","update","put","mountComp","unmountComp"],"sources":["/Users/macuser/Desktop/HENRY/Copia de PI-VIDEOGAMES/client/src/redux/actions/action.js"],"sourcesContent":["import axios from \"axios\"; \nimport {DELETE_GAME, GET_BY_ID, ERROR_VIDEOGAME, FILTER, GET_GAMES,\n        GET_GENRES, NAME_SEARCHED, CLEAN, CLEAN_OBJECT, EDIT_GAME, MOUNT, UNMOUNT,\n        PAGINATE } \n        from \"./action-types\";\n\n// export const GET_GAMES = \"GET_GAMES\" \n// export const GET_BY_NAME = \"GET_BY_NAME\"\n\n// export function getGames(){\n//     return async function(dispatch) {\n//      const response = await axios(\"http://localhost:3001/videogames\");\n\n//     return dispatch({\n//         type:\"GET_GAMES\",\n//         payload: response.data\n//     })\n// }\n// }\n\n// export const getGames = ()=>{\n//     return async function (dispatch){\n//         const apiData = await axios.get(\"http://localhost:3001/videogames\");\n//         const videoGames = apiData.data;\n//         dispatch({type:GET_GAMES,payload:videoGames})\n//     };\n// }\n\n// export function getByName(name){\n//     return async function (dispatch){\n//         const response = await axios(`http://localhost:3001/videogames/?name=${name}`);\n//         return dispatch({\n//             type: \"GET_BY_NAME\",\n//             payload: response.data,\n//         })\n//     };\n// }\n\nexport function getGames(){\n    return async function(dispatch){\n        try {\n            const response = await axios.get(\"http://localhost:3001/videogames\")\n            console.log(response)  \n            dispatch({\n                type: GET_GAMES,\n                payload: response.data\n            })\n        } catch (error) {\n            alert(error.response.data.error)\n            \n        }\n    \n    }\n}\nexport function getGenres(){\n    return async function(dispatch){\n        try {\n            const response = await axios.get(\"http://localhost:3001/genres\")\n            console.log(response)  \n            dispatch({\n                type: GET_GENRES,\n                payload: response.data\n            })\n        } catch (error) {\n            alert(error.response.data.error)\n            \n        }\n    \n    }\n}\n\nexport const getById = (id) => {\n    return async (dispatch) => {\n       try {\n          const endpoint = `http://localhost:3002/videogames/${id}`;\n          const response = await axios.get(endpoint)\n          \n          if(!id) return dispatch({type: GET_BY_ID, payload:{}})\n             return dispatch({\n                type: GET_BY_ID,\n                payload: response.data,\n             });\n       } catch (error) {\n          console.log(error);\n       }\n    }\n }\n\nexport function postGame(state){\n    return async function(){\n        try {\n            console.log(state)\n            await axios.post(\"http://localhost:3001/videogames\", state)\n            alert(\"Game creado con exito\");\n        } catch (error) {\n            alert(\"sucedio un error\");\n            \n        }\n    }\n}\n\nexport function paginateGames(order){  //order es el indentificador que indica para donde estoy paginando. derecha o izquierda\n    return async function(dispatch){\n        try {\n            dispatch({\n                type: PAGINATE,\n                payload: order\n            })\n        } catch (error) {\n            alert(error.response.data.error)\n            \n        }\n    \n    }\n}\n\n\nexport function filterGenresAction(genre){  //order es el indentificador que indica para donde estoy paginando. derecha o izquierda\n    return async function(dispatch){\n        console.log(genre)\n        try {\n            dispatch({\n                type: FILTER,\n                payload: genre\n            })\n        } catch (error) {\n            alert(error.response.data.error)\n            \n        }\n    \n    }\n}\nexport const deleteVideogame = (id) => {\n    return async (dispatch) => {\n      try {\n        const endpoint = `http://localhost:3001/videogames/${id}`;\n        const {data} = await axios.delete(endpoint);\n        return dispatch({\n          type: DELETE_GAME,\n          payload: data\n        });\n      } catch (err) {\n       return dispatch({\n          type: ERROR_VIDEOGAME,\n          payload: await err.response.data\n       })\n      }\n    };\n };\n\n export const nameSearched = (name) => {\n    return {\n       type: NAME_SEARCHED,\n       payload: name\n    }\n }\n export const clean = () => {\n    return {\n       type: CLEAN,\n       payload: ''\n    }\n }\n \n export const cleanObject = () => {\n    return {\n       type: CLEAN_OBJECT,\n       payload: {}\n    }\n }\n \n export const putVideogame = (update) => {\n    return async (dispatch) => {\n      try {\n        const endpoint = `http://localhost:3002/videogames`;\n        const {data} = await axios.put(endpoint, update);\n        return dispatch({\n          type: EDIT_GAME,\n          payload: data\n        });\n      } catch (err) {\n       return dispatch({\n          type: ERROR_VIDEOGAME,\n          payload: await err.response.data\n       })\n      }\n    };\n };\n \n export const mountComp = () => {\n    return {\n       type: MOUNT,\n       payload: true\n    }\n }\n \n export const unmountComp = () => {\n    return {\n       type: UNMOUNT,\n       payload: false\n    }\n }\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,WAAW,EAAEC,SAAS,EAAEC,eAAe,EAAEC,MAAM,EAAEC,SAAS,EAC1DC,UAAU,EAAEC,aAAa,EAAEC,KAAK,EAAEC,YAAY,EAAEC,SAAS,EAAEC,KAAK,EAAEC,OAAO,EACzEC,QAAQ,QACH,gBAAgB;;AAE7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,QAAQA,CAAA,EAAE;EACtB,OAAO,gBAAeC,QAAQ,EAAC;IAC3B,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAC,kCAAkC,CAAC;MACpEC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;MACrBD,QAAQ,CAAC;QACLK,IAAI,EAAEf,SAAS;QACfgB,OAAO,EAAEL,QAAQ,CAACM;MACtB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,KAAK,CAACD,KAAK,CAACP,QAAQ,CAACM,IAAI,CAACC,KAAK,CAAC;IAEpC;EAEJ,CAAC;AACL;AACA,OAAO,SAASE,SAASA,CAAA,EAAE;EACvB,OAAO,gBAAeV,QAAQ,EAAC;IAC3B,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAC,8BAA8B,CAAC;MAChEC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;MACrBD,QAAQ,CAAC;QACLK,IAAI,EAAEd,UAAU;QAChBe,OAAO,EAAEL,QAAQ,CAACM;MACtB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,KAAK,CAACD,KAAK,CAACP,QAAQ,CAACM,IAAI,CAACC,KAAK,CAAC;IAEpC;EAEJ,CAAC;AACL;AAEA,OAAO,MAAMG,OAAO,GAAIC,EAAE,IAAK;EAC3B,OAAO,MAAOZ,QAAQ,IAAK;IACxB,IAAI;MACD,MAAMa,QAAQ,GAAI,oCAAmCD,EAAG,EAAC;MACzD,MAAMX,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAACW,QAAQ,CAAC;MAE1C,IAAG,CAACD,EAAE,EAAE,OAAOZ,QAAQ,CAAC;QAACK,IAAI,EAAElB,SAAS;QAAEmB,OAAO,EAAC,CAAC;MAAC,CAAC,CAAC;MACnD,OAAON,QAAQ,CAAC;QACbK,IAAI,EAAElB,SAAS;QACfmB,OAAO,EAAEL,QAAQ,CAACM;MACrB,CAAC,CAAC;IACR,CAAC,CAAC,OAAOC,KAAK,EAAE;MACbL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC;IACrB;EACH,CAAC;AACJ,CAAC;AAEF,OAAO,SAASM,QAAQA,CAACC,KAAK,EAAC;EAC3B,OAAO,kBAAgB;IACnB,IAAI;MACAZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;MAClB,MAAM9B,KAAK,CAAC+B,IAAI,CAAC,kCAAkC,EAAED,KAAK,CAAC;MAC3DN,KAAK,CAAC,uBAAuB,CAAC;IAClC,CAAC,CAAC,OAAOD,KAAK,EAAE;MACZC,KAAK,CAAC,kBAAkB,CAAC;IAE7B;EACJ,CAAC;AACL;AAEA,OAAO,SAASQ,aAAaA,CAACC,KAAK,EAAC;EAAG;EACnC,OAAO,gBAAelB,QAAQ,EAAC;IAC3B,IAAI;MACAA,QAAQ,CAAC;QACLK,IAAI,EAAEP,QAAQ;QACdQ,OAAO,EAAEY;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOV,KAAK,EAAE;MACZC,KAAK,CAACD,KAAK,CAACP,QAAQ,CAACM,IAAI,CAACC,KAAK,CAAC;IAEpC;EAEJ,CAAC;AACL;AAGA,OAAO,SAASW,kBAAkBA,CAACC,KAAK,EAAC;EAAG;EACxC,OAAO,gBAAepB,QAAQ,EAAC;IAC3BG,OAAO,CAACC,GAAG,CAACgB,KAAK,CAAC;IAClB,IAAI;MACApB,QAAQ,CAAC;QACLK,IAAI,EAAEhB,MAAM;QACZiB,OAAO,EAAEc;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOZ,KAAK,EAAE;MACZC,KAAK,CAACD,KAAK,CAACP,QAAQ,CAACM,IAAI,CAACC,KAAK,CAAC;IAEpC;EAEJ,CAAC;AACL;AACA,OAAO,MAAMa,eAAe,GAAIT,EAAE,IAAK;EACnC,OAAO,MAAOZ,QAAQ,IAAK;IACzB,IAAI;MACF,MAAMa,QAAQ,GAAI,oCAAmCD,EAAG,EAAC;MACzD,MAAM;QAACL;MAAI,CAAC,GAAG,MAAMtB,KAAK,CAACqC,MAAM,CAACT,QAAQ,CAAC;MAC3C,OAAOb,QAAQ,CAAC;QACdK,IAAI,EAAEnB,WAAW;QACjBoB,OAAO,EAAEC;MACX,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOgB,GAAG,EAAE;MACb,OAAOvB,QAAQ,CAAC;QACbK,IAAI,EAAEjB,eAAe;QACrBkB,OAAO,EAAE,MAAMiB,GAAG,CAACtB,QAAQ,CAACM;MAC/B,CAAC,CAAC;IACH;EACF,CAAC;AACJ,CAAC;AAED,OAAO,MAAMiB,YAAY,GAAIC,IAAI,IAAK;EACnC,OAAO;IACJpB,IAAI,EAAEb,aAAa;IACnBc,OAAO,EAAEmB;EACZ,CAAC;AACJ,CAAC;AACD,OAAO,MAAMC,KAAK,GAAGA,CAAA,KAAM;EACxB,OAAO;IACJrB,IAAI,EAAEZ,KAAK;IACXa,OAAO,EAAE;EACZ,CAAC;AACJ,CAAC;AAED,OAAO,MAAMqB,WAAW,GAAGA,CAAA,KAAM;EAC9B,OAAO;IACJtB,IAAI,EAAEX,YAAY;IAClBY,OAAO,EAAE,CAAC;EACb,CAAC;AACJ,CAAC;AAED,OAAO,MAAMsB,YAAY,GAAIC,MAAM,IAAK;EACrC,OAAO,MAAO7B,QAAQ,IAAK;IACzB,IAAI;MACF,MAAMa,QAAQ,GAAI,kCAAiC;MACnD,MAAM;QAACN;MAAI,CAAC,GAAG,MAAMtB,KAAK,CAAC6C,GAAG,CAACjB,QAAQ,EAAEgB,MAAM,CAAC;MAChD,OAAO7B,QAAQ,CAAC;QACdK,IAAI,EAAEV,SAAS;QACfW,OAAO,EAAEC;MACX,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOgB,GAAG,EAAE;MACb,OAAOvB,QAAQ,CAAC;QACbK,IAAI,EAAEjB,eAAe;QACrBkB,OAAO,EAAE,MAAMiB,GAAG,CAACtB,QAAQ,CAACM;MAC/B,CAAC,CAAC;IACH;EACF,CAAC;AACJ,CAAC;AAED,OAAO,MAAMwB,SAAS,GAAGA,CAAA,KAAM;EAC5B,OAAO;IACJ1B,IAAI,EAAET,KAAK;IACXU,OAAO,EAAE;EACZ,CAAC;AACJ,CAAC;AAED,OAAO,MAAM0B,WAAW,GAAGA,CAAA,KAAM;EAC9B,OAAO;IACJ3B,IAAI,EAAER,OAAO;IACbS,OAAO,EAAE;EACZ,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}